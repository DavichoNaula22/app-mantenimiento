<div class="container">
    <h2 class="mb-4">Lista de Mantenimientos</h2>
  
    <!-- Formulario para agregar un mantenimiento -->
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">Agregar Mantenimiento</h5>
        <form (ngSubmit)="agregar()">
          <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input type="text" class="form-control" [(ngModel)]="nuevoMantenimiento.nombre" name="nombre" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Descripción</label>
            <input type="text" class="form-control" [(ngModel)]="nuevoMantenimiento.descripcion" name="descripcion" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Fecha</label>
            <input type="date" class="form-control" [(ngModel)]="nuevoMantenimiento.fecha" name="fecha" required>
          </div>
          <button type="submit" class="btn btn-success">Agregar</button>
        </form>
      </div>
    </div>
  
    <!-- Tabla de mantenimientos -->
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Fecha</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let mantenimiento of mantenimientos">
          <td>{{ mantenimiento.id }}</td>
  
          <!-- Si el mantenimiento está en edición, mostrar inputs -->
          <td *ngIf="mantenimientoEnEdicion?.id === mantenimiento.id">
            <input type="text" class="form-control" [(ngModel)]="mantenimientoEnEdicion.nombre">
          </td>
          <td *ngIf="mantenimientoEnEdicion?.id === mantenimiento.id">
            <input type="text" class="form-control" [(ngModel)]="mantenimientoEnEdicion.descripcion">
          </td>
          <td *ngIf="mantenimientoEnEdicion?.id === mantenimiento.id">
            <input type="date" class="form-control" [(ngModel)]="mantenimientoEnEdicion.fecha">
          </td>
  
          <!-- Si no está en edición, mostrar datos -->
          <td *ngIf="mantenimientoEnEdicion?.id !== mantenimiento.id">{{ mantenimiento.nombre }}</td>
          <td *ngIf="mantenimientoEnEdicion?.id !== mantenimiento.id">{{ mantenimiento.descripcion }}</td>
          <td *ngIf="mantenimientoEnEdicion?.id !== mantenimiento.id">{{ mantenimiento.fecha }}</td>
  
          <!-- Acciones -->
          <td>
            <!-- Botón Guardar si está en edición -->
            <button *ngIf="mantenimientoEnEdicion?.id === mantenimiento.id" class="btn btn-success btn-sm me-1" (click)="guardarEdicion()">Guardar</button>
            <button *ngIf="mantenimientoEnEdicion?.id === mantenimiento.id" class="btn btn-secondary btn-sm me-1" (click)="cancelarEdicion()">Cancelar</button>
  
            <!-- Botón Editar y Eliminar si NO está en edición -->
            <button *ngIf="mantenimientoEnEdicion?.id !== mantenimiento.id" class="btn btn-warning btn-sm me-1" (click)="editar(mantenimiento)">Editar</button>
            <button *ngIf="mantenimientoEnEdicion?.id !== mantenimiento.id" class="btn btn-danger btn-sm" (click)="eliminar(mantenimiento.id)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  